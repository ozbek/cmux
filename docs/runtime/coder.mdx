---
title: Coder Runtime
description: Run agents on Coder workspaces
---

Mux can use [Coder Workspaces](https://coder.com/docs) as SSH hosts. When enabled, Mux talks to the Coder CLI on your local machine to list templates/presets/workspaces and connects over SSH. Connecting to an existing Coder workspace lets multiple Mux workspaces share the same Coder host, which avoids per-workspace provisioning overhead.

## Requirements

- Coder CLI **v2.25.0+** installed on the machine running Mux and logged in to your deployment
- Access to a Coder template (for new workspaces) or an existing workspace
- A workspace image with git and your toolchain

## Create a new Coder workspace

1. Choose **SSH** as the runtime and enable **Use Coder Workspace**.
2. Select **New**.
3. Pick a template and (if available) a preset.
4. Mux creates a Coder workspace named `mux-<workspace-name>` (derived from your Mux workspace name), waits for startup scripts, then connects over SSH.

If multiple organizations have templates with the same name, Mux shows the organization name so you can pick the right one.

## Use an existing Coder workspace

1. Choose **Existing**.
2. Select a workspace from the list (status is shown).
3. Mux will start the workspace if it is stopped, then connect to `<workspace-name>.mux--coder`.

## SSH setup

Mux writes and maintains a mux-owned SSH config block before connecting, creating aliases like `<workspace-name>.mux--coder` in `~/.ssh/config`.

## Notes

- If the **Use Coder Workspace** checkbox is missing, verify that the Coder CLI is found on the PATH.
- Each Mux workspace still lives in its own directory on the remote machine, even when sharing a single Coder workspace.
- By default, archiving a **New** (mux-created) Coder-backed workspace will also stop the underlying Coder workspace, and unarchiving will attempt to start it again. This does **not** apply when using an **Existing** Coder workspace. To disable this behavior, set `stopCoderWorkspaceOnArchive` to `false` in `~/.mux/config.json`.
