# SSH daemon configuration for testing

# Listen on all interfaces
ListenAddress 0.0.0.0

# Disable password authentication - key-based only
PasswordAuthentication no
PubkeyAuthentication yes
ChallengeResponseAuthentication no

# Allow testuser only
AllowUsers testuser

# Disable strict modes for test simplicity
StrictModes no

# Logging
LogLevel INFO

# Disable DNS lookups for faster connection
UseDNS no

# Increase connection limits for concurrent test operations
# MaxStartups: start:rate:full (reject after 'start' unauthenticated connections)
MaxStartups 100:30:200
# MaxSessions: max sessions per connection
MaxSessions 50

# Subsystems
Subsystem sftp /usr/lib/openssh/sftp-server

